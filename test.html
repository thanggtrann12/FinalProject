<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Read, Write, Update, Delete Data v9...</title>
        <style>label{display: inline-block; width: 80px}</style>
    </head>

    <body>

        <label>Name</label> <input id="Namebox" type="text">
        <label>RollNo</label> <input id="Rollbox" type="text">
        <label>Section</label> <input id="Secbox" type="text">
        <label>Name</label>
        <select id="Genbox">
            <option value="Male">Male</option>
            <option value="Female">Female</option>
        </select>

        <hr>
        <button id="Insbtn">INSERT</button>
        <button id="Selbtn">SELECT</button>
        <button id="Updbtn">UPDATE</button>
        <button id="Delbtn">DELETE</button>


        <script type="module">
            import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js";
            // TODO: Add SDKs for Firebase products that you want to use
            // https://firebase.google.com/docs/web/setup#available-libraries
        
            // Your web app's Firebase configuration
            // For Firebase JS SDK v7.20.0 and later, measurementId is optional
            const firebaseConfig = {
                apiKey: "AIzaSyApiPqCRW6TgxREmRe7EM4Y_9EbZjvBy_U",
                authDomain: "test2-114f3.firebaseapp.com",
                databaseURL: "https://test2-114f3-default-rtdb.firebaseio.com",
                projectId: "test2-114f3",
                storageBucket: "test2-114f3.appspot.com",
                messagingSenderId: "803595650651",
                appId: "1:803595650651:web:c4013a29b76cb054e2e17e",
                measurementId: "G-M9T04QSBG0"
                };
        
            // Initialize Firebase
            const app = initializeApp(firebaseConfig);
            import {getDatabase, ref, set, child, update, remove}
            from "https://www.gstatic.com/firebasejs/9.6.1/firebase-database.js"
            const db = getDatabase();

            var namebox = document.getElementById("Namebox");
            var rollbox = document.getElementById("Rollbox");
            var secbox = document.getElementById("Secbox");
            var genbox = document.getElementById("Genbox");

            var insBtn = document.getElementById("Insbtn");
            var selBtn = document.getElementById("Selbtn");
            var updBtn = document.getElementById("Updbtn");
            var delBtn = document.getElementById("Delbtn");

            function InsertData(){
                set(ref(db, "TheStudents/" + rollbox.value),{
                    NameOfStd: namebox.value,
                    RollNo: rollbox.value,
                    Section: secbox.value,
                    Gender: genbox.value
                })
                .then(()=>{
                    alert("data stored successfully");
                })
                .catch((error)=>{
                    alert("unsuccessful, error" + error);
                });
            }
            insBtn.addEventListener('click', InsertData);
        </script>
    </body>
    
</html>